<!DOCTYPE html>
<html>

<head>
    {%include "head.html" %}
</head>

<body>
    {% include "header.html" %}
    <main>
        <h1>{{ title }}</h1>
        <div class="archive-grid">
            {% for pair in media %}
                <div class="archive-item">
                    <a href="{{ pair.video }}">
                        <img class="archive-item-img" src="{{ pair.thumbnail }}"
                            onerror="this.onerror=null;this.src='/static/thumbnails/fallback.png';">
                        {% if not pair.is_image %}
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
                                <path fill-rule="evenodd"
                                    d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z"
                                    clip-rule="evenodd" />
                            </svg>
                        {% endif %}
                    </a>
                </div>
            {% endfor %}
        </div>
	<!-- Pagination -->
	<div class="pagination">
        	{% if has_prev %}
            		<a href="{{ url_for('locker', page=current_page-1) }}">Previous</a>
        	{% else %}
		 <span>Prev</span>
        	{% endif %}

       		<!-- Page number links -->
        	{% for page_num in range(1, total_pages + 1) %}
            		{% if page_num == current_page %}
                		<span class="active">{{ page_num }}</span>
            		{% else %}
                		<a class="number" href="{{ url_for('locker', page=page_num) }}">{{ page_num }}</a>
            		{% endif %}
        	{% endfor %}

        	{% if has_next %}
            		<a href="{{ url_for('locker', page=current_page+1) }}">Next</a>
        	{% else %}
			<span>Next</span>
        	{% endif %}
    	</div>
    </main>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>

</html>
